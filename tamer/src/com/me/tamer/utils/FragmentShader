#ifdef GL_ES
precision mediump float;
#endif
uniform vec3 iResolution;
uniform float iGlobalTime;
uniform vec4 iMouse;
uniform sampler2D u_texture1;

void main(void)
{
	 vec3 waveParams = vec3( 10.0, 0.8, 0.1 );
	 vec2 tmp = vec2( iMouse.xy / iResolution.xy );
	 vec2 uv = gl_FragCoord.xy / iResolution.xy;
	 vec2 texCoord = uv;
	 float distance = distance(uv, tmp);
	 
	 if ( (distance <= ((iGlobalTime ) + waveParams.z )) && ( distance >= ((iGlobalTime ) - waveParams.z)) ) 
	 {
		    float diff = (distance - (iGlobalTime)); 
		    float powDiff = 1.0 - pow(abs(diff*waveParams.x), waveParams.y); 
		 
		    float diffTime = diff  * powDiff; 
		    vec2 diffUV = normalize(uv - tmp); 
		    texCoord = uv + (diffUV * diffTime);
		    
	 } 
	 vec4 original = texture2D( u_texture1, texCoord);
	 gl_FragColor = original; 
}

